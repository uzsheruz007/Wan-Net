{% extends 'ctf/ctf_home.html' %}
{% load static %}

{% block title %}TIZIMGA KIRISH // WAN-NET{% endblock %}

{% block content %}
<style>
    .login-wrapper {
        min-height: calc(100vh - 80px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
        z-index: 10;
    }

    .terminal-window {
        background: rgba(10, 10, 10, 0.95);
        border: 1px solid rgba(16, 185, 129, 0.2);
        border-radius: 12px;
        box-shadow: 0 0 40px rgba(16, 185, 129, 0.1);
        width: 100%;
        max-width: 420px;
        overflow: hidden;
        backdrop-filter: blur(10px);
        animation: card-appear 0.6s cubic-bezier(0.22, 1, 0.36, 1);
    }

    .terminal-header {
        background: #000;
        padding: 12px 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
    }

    .dot-red { background: #ef4444; }
    .dot-yellow { background: #eab308; }
    .dot-green { background: #22c55e; }

    .terminal-title {
        margin-left: auto;
        margin-right: auto;
        color: #64748b;
        font-family: 'JetBrains Mono', monospace;
        font-size: 11px;
        transform: translateX(-14px); /* Center visually adjusting for dots */
    }

    .terminal-body {
        padding: 40px;
    }

    .code-input-container {
        position: relative;
        margin-top: 30px;
        margin-bottom: 30px;
    }

    .code-input {
        background: rgba(16, 185, 129, 0.05);
        border: 1px solid rgba(16, 185, 129, 0.3);
        color: #10b981;
        font-family: 'JetBrains Mono', monospace;
        font-size: 24px;
        letter-spacing: 12px;
        text-align: center;
        width: 100%;
        padding: 16px;
        border-radius: 8px;
        outline: none;
        transition: all 0.3s ease;
    }

    .code-input:focus {
        border-color: #10b981;
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
        background: rgba(16, 185, 129, 0.1);
    }

    .code-input::placeholder {
        color: rgba(16, 185, 129, 0.2);
        font-size: 14px;
        letter-spacing: normal;
    }

    .scan-line {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: rgba(16, 185, 129, 0.5);
        box-shadow: 0 0 10px #10b981;
        animation: scan 2s linear infinite;
        opacity: 0.5;
        pointer-events: none;
    }

    @keyframes scan {
        0% { transform: translateY(-100%); opacity: 0; }
        10% { opacity: 0.5; }
        90% { opacity: 0.5; }
        100% { transform: translateY(400px); opacity: 0; }
    }

    @keyframes card-appear {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .btn-submit {
        background: #10b981;
        color: #000;
        border: none;
        font-family: 'JetBrains Mono', monospace;
        font-weight: 700;
        padding: 14px;
        width: 100%;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .btn-submit:hover {
        background: #34d399;
        transform: translateY(-1px);
        box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4);
    }

    .bot-link {
        color: #10b981;
        text-decoration: underline;
        text-decoration-thickness: 1px;
        text-underline-offset: 4px;
        transition: color 0.2s;
    }
    
    .bot-link:hover {
        color: #34d399;
    }
    
    .shake {
        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
        transform: translate3d(0, 0, 0);
    }
    
    @keyframes shake {
        10%, 90% { transform: translate3d(-1px, 0, 0); }
        20%, 80% { transform: translate3d(2px, 0, 0); }
        30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
        40%, 60% { transform: translate3d(4px, 0, 0); }
    }
</style>
<br>
<div class="login-wrapper">
    <!-- Center Column -->
    <div class="terminal-window">
        <!-- Decoration Scanline -->
        <div class="scan-line"></div>
        
        <div class="terminal-header">
            <div class="dot dot-red"></div>
            <div class="dot dot-yellow"></div>
            <div class="dot dot-green"></div>
            <div class="terminal-title">auth_module_v2.exe</div>
        </div>

        <div class="terminal-body">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/20">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                </div>
                <h2 class="text-white font-medium text-xl tracking-tight mb-2">Tizimga Kirish</h2>
                <p class="text-slate-500 text-sm">Shaxsingizni tasdiqlash uchun maxsus kodni kiriting.</p>
            </div>

            <form method="POST" id="login-form">
                {% csrf_token %}
                
                {% if error %}
                <div class="bg-red-500/10 border border-red-500/20 text-red-500 p-3 mb-6 text-center text-xs font-mono rounded shake">
                    [XATO] {{ error }}
                </div>
                {% endif %}

                <div class="code-input-container">
                    <input type="text" name="access_code" id="access_code" class="code-input" placeholder="______" maxlength="6" autocomplete="off" required autofocus>
                    <div class="text-center mt-2 text-[10px] text-emerald-500/50 font-mono tracking-widest">SECURE_CHANNEL_ESTABLISHED</div>
                </div>

                <div class="flex flex-col gap-4">
                    <button type="submit" class="btn-submit">
                        Tizimga Kirish
                    </button>
                    
                    <div class="text-center text-xs text-slate-500 leading-relaxed bg-white/5 p-3 rounded border border-white/5">
                        <span class="text-emerald-500 font-bold block mb-1">YO'RIQNOMA:</span>
                        1. <a href="https://t.me/Wan_Netbot" target="_blank" class="bot-link">@Wan_Netbot</a> ga kiring<br>
                        2. /start ni bosing<br>
                        3. Kelgan 6 xonali kodni yozing
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
